# アプリケーション固有のブロックチェーン

このドキュメントでは、アプリケーション固有のブロックチェーンとは何か、および開発者がスマートコントラクトを作成する代わりにブロックチェーンを構築する理由について説明します。 {まとめ}

## アプリケーション固有のブロックチェーンとは何ですか？

アプリケーション固有のブロックチェーンは、単一のアプリケーションを操作するようにカスタマイズされたブロックチェーンです。 イーサリアムのような基盤となるブロックチェーンの上に分散型アプリケーションを構築する代わりに、開発者は独自のブロックチェーンをゼロから構築します。 これは、フルノードクライアント、ライトクライアント、およびノー​​ドと対話するために必要なすべてのインターフェイス(CLI、RESTなど)を構築することを意味します。

```
                ^  +-------------------------------+  ^
                |  |                               |  |   Built with Cosmos SDK
                |  |  State-machine = Application  |  |
                |  |                               |  v
                |  +-------------------------------+
                |  |                               |  ^
Blockchain node |  |           Consensus           |  |
                |  |                               |  |
                |  +-------------------------------+  |   Tendermint Core
                |  |                               |  |
                |  |           Networking          |  |
                |  |                               |  |
                v  +-------------------------------+  v
```

## スマートコントラクトの欠点は何ですか？

早くも2014年には、イーサリアムなどの仮想マシンのブロックチェーンが、より多くのプログラマビリティの要求に応えていました。当時、分散型アプリケーションを構築するために利用できるオプションは非常に限られていました。ほとんどの開発者は、複雑で制限されたビットコインスクリプト言語に基づいて構築するか、使用やカスタマイズが難しいビットコインコードベースをフォークします。

仮想マシンのブロックチェーンは、新しい価値提案をもたらします。彼らのステートマシンには、スマートコントラクトと呼ばれるチューリング完全プログラムを解釈できる仮想マシンが含まれています。これらのスマートコントラクトは、1回限りのイベント(ICOなど)などのユースケースに非常に適していますが、複雑な分散型プラットフォームを構築できない場合があります。その理由は次のとおりです。

- スマートコントラクトは通常、特定のプログラミング言語で開発され、基盤となる仮想マシンで解釈できます。これらのプログラミング言語は通常未成熟であり、基本的に仮想マシン自体によって制限されます。たとえば、イーサリアム仮想マシンでは、開発者は自動コード実行を実装できません。開発者は、EVMのアカウントベースのシステムによっても制限されており、暗号化操作のための限られた機能セットからのみ選択できます。これらは単なる例ですが、スマートコントラクト環境には**柔軟性**が欠けていることが多いことを意味します。
- スマートコントラクトはすべて同じ仮想マシンによって実行されます。これは、リソースをめぐって競合していることを意味し、**パフォーマンス**を大幅に制限します。ステートマシンが複数のサブセットに分割されている場合でも(シャーディングなどによって)、スマートコントラクトは仮想マシンと相互作用する必要があります。これにより、ステートマシンレベルで実装されているネイティブアプリケーションと比較してパフォーマンスが制限されます(ベンチマークでは、削除後仮想マシンでは、パフォーマンスが10倍に向上しました)。
- 同じ基礎となる環境を共有するスマートコントラクトのもう1つの問題は、結果として生じる主権の制限です。分散型アプリケーションは、複数の参加者が関与するエコシステムです。アプリケーションが一般的な仮想マシンのブロックチェーン上に構築されている場合、アプリケーションに対する利害関係者の主権は非常に制限され、最終的には基盤となるブロックチェーンのガバナンスに置き換えられます。アプリケーションにエラーがある場合、あなたができることはほとんどありません。

アプリケーション固有のブロックチェーンは、これらの欠点を解決することを目的としています。

## アプリケーション固有のブロックチェーンの利点

### 柔軟性

アプリケーション固有のブロックチェーンは、開発者に最大限の柔軟性を提供します。

- Cosmosブロックチェーンでは、ステートマシンは通常、[ABCI](https://docs.tendermint.com/v0.34/spec/abci/)と呼ばれるインターフェイスを介して基盤となるコンセンサスエンジンに接続されます。このインターフェースは任意のプログラミング言語でラップできます。つまり、開発者は選択したプログラミング言語でステートマシンを構築できます。

- 開発者は、複数のフレームワークから選択してステートマシンを構築できます。現在最も広く使用されているのはCosmosSDKですが、他にもあります([Lotion](https://github.com/nomic-io/lotion)、[Weave](https://github.com/iovなど) -one/Weaving)、...)。通常、選択は、使用するプログラミング言語に基づいて行われます(Cosmos SDKおよびWeaveの場合はGolang、Lotionの場合はJavascriptなど)。
-ABCIを使用すると、開発者はアプリケーション固有のブロックチェーンコンセンサスエンジンを交換することもできます。現在、テンダーミントのみを生産することができますが、将来的には他のコンセンサスエンジンが期待されています。
- フレームワークとコンセンサスエンジンに満足している場合でも、元のフォームが要件を完全に満たしていない場合でも、開発者は自由に調整できます。
- 開発者は、さまざまなトレードオフ(たとえば、バリデーターの数とトランザクションスループット、セキュリティと非同期の可用性など)と設計の選択(ストレージ用のDBまたはIAVLツリー、UTXOまたはアカウントモデルなど)を自由に検討できます。
- 開発者は自動コード実行を実現できます。 Cosmos SDKでは、各ブロックの最初と最後でロジックを自動的にトリガーできます。また、仮想マシンのブロックチェーンの場合、基盤となる環境によって提供されるコンテンツによって制限されるのではなく、アプリケーションで使用される暗号化ライブラリを自由に選択できます。

上記のリストには、アプリケーション固有のブロックチェーンが開発者に提供する柔軟性を示すいくつかの例が含まれています。 CosmosとCosmosSDKの目標は、開発者ツールを可能な限り多用途で構成可能にすることです。これにより、互換性を失うことなく、スタックのすべての部分をフォーク、調整、および改善できます。コミュニティが成長するにつれて、各コアビルディングブロックの選択肢が増え、開発者はより多くの選択肢を得ることができます。

### パフォーマンス 

スマートコントラクトを使用して構築された分散型アプリケーションは、基本的に、基盤となる環境のパフォーマンスによって制限されます。分散型アプリケーションでパフォーマンスを最適化するには、アプリケーション固有のブロックチェーンとして構築する必要があります。次に、アプリケーション固有のブロックチェーンのパフォーマンス上の利点のいくつかを示します。

- 特定のブロックチェーンアプリケーションの開発者は、TendermintBFTなどの新しいコンセンサスエンジンを使用することを選択できます。プルーフオブワーク(現在ほとんどの仮想マシンブロックチェーンで使用されている)と比較すると、スループットが大幅に向上します。
- アプリケーション固有のブロックチェーンは単一のアプリケーションのみを実行するため、このアプリケーションはコンピューティングおよびストレージに関して他のアプリケーションと競合しません。これは、スマートコントラクトがコンピューティングとストレージをめぐって競合している今日のほとんどの非シャーディング仮想マシンブロックチェーンとは対照的です。
- 仮想マシンのブロックチェーンがアプリケーションベースのシャーディングと効率的なコンセンサスアルゴリズムを提供している場合でも、パフォーマンスは仮想マシン自体によって制限されます。実際のスループットのボトルネックはステートマシンであり、仮想マシンがトランザクションを解釈する必要があるため、トランザクションの処理の計算が大幅に複雑になります。

### 安全性

セキュリティは定量化が難しく、プラットフォームごとに異なります。言い換えると、アプリケーション固有のブロックチェーンは、セキュリティの観点からいくつかの重要な利点をもたらす可能性があります。

- 開発者は、通常は未成熟なスマートコントラクトプログラミング言語の代わりに、アプリケーション固有のブロックチェーンを構築するときに、Golangなどの実績のあるプログラミング言語を選択できます。
- 開発者は、基盤となる仮想マシンによって提供される暗号化機能によって制限されません。彼らは独自のカスタム暗号化を使用し、完全に監査された暗号化ライブラリに依存することができます。
- 開発者は、基盤となる仮想マシンの潜在的なエラーや悪用可能なメカニズムについて心配する必要がないため、アプリケーションのセキュリティについて簡単に推論できます。

### 主権

アプリケーション固有のブロックチェーンの主な利点の1つは、主権です。分散型アプリケーションは、ユーザー、開発者、サードパーティサービスなどの多くの参加者が関与するエコシステムです。開発者が多くの分散型アプリケーションが共存する仮想マシンブロックチェーン上に構築する場合、アプリケーションコミュニティは基盤となるブロックチェーンコミュニティとは異なり、ガバナンスプロセスでは後者が前者に置き換わります。エラーが発生した場合や新機能が必要な場合、アプリケーションの利害関係者はコードをアップグレードする余地がほとんどありません。基盤となるブロックチェーンのコミュニティが行動を起こすことを拒否した場合、何も起こりません。

ここでの根本的な問題は、アプリケーションのガバナンスとネットワークのガバナンスに一貫性がないことです。この問題は、アプリケーション固有のブロックチェーンによって解決されます。アプリケーション固有のブロックチェーンは単一のアプリケーションの実行に特化しているため、アプリケーションの利害関係者はチェーン全体を完全に制御できます。これにより、コミュニティがエラーを見つけたときに立ち往生することがなくなり、開発方法を自由に選択できるようになります。

## 次へ{hide}

Cosmos SDKアプリケーションの[Advanced Architecture](./sdk-app-architecture.md){hide}の詳細