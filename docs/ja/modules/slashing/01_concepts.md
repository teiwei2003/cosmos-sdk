# コンセプト

## 状態

いつでも、ステートマシンに登録されているバリデーターはいくつでもあります。 各ブロック、投獄されていない上位の `MaxValidators`(`x/staking`で定義)バリデーターは _bonded_ になります。つまり、ブロックを提案して投票することができます。
_bonded_ are _at stake_ 危険にさらされています_。つまり、プロトコル障害を犯した場合、その一部またはすべての賭けと委任者の賭けが危険にさらされます。

これらのバリデーターごとに、バリデーターの有効性やその他の違反に関連する属性に関する情報を含む`ValidatorSigningInfo`レコードを保持します。

## Tombstone Caps

悪意のないプロトコル障害の最初に発生する可能性のあるカテゴリの影響を軽減するために、Cosmos Hubは、バリデーターごとに_tombstone_キャップを実装します。これにより、二重記号障害に対してバリデーターを1回だけスラッシュできます。
たとえば、HSMを誤って構成し、古いブロックの束に二重署名した場合、最初の二重署名に対してのみ罰せられます(その後すぐに墓に埋葬されます)。
これは依然として非常に費用がかかり、回避することが望ましいですが、トゥームストーンキャップは、意図しない誤った構成の経済的影響をいくらか鈍らせます。

活力障害は互いに積み重ねることができないため、上限はありません。 活性バグは違反が発生するとすぐに[検出]され、バリデーターはすぐに刑務所に入れられるため、間にジェイルを解除せずに複数の活性バグを犯すことはできません。

## Infraction Timelines

`x/slashing`モジュールがTendermintコンセンサスを通じて提出された証拠をどのように処理するかを説明するために、次の例を検討してください。

**Definitions**:

_[_ : timeline start  
_]_ : timeline end  
_C<sub>n</sub>_ : infraction `n` committed  
_D<sub>n</sub>_ : infraction `n` discovered  
_V<sub>b</sub>_ : validator bonded  
_V<sub>u</sub>_ : validator unbonded

### シングルダブルサイン違反

<----------------->
[----------C<sub>1</sub>----D<sub>1</sub>,V<sub>u</sub>-----]

単一の違反がコミットされ、後で発見されます。その時点で、バリデーターは結合されておらず、違反の全額でスラッシュされます。 

### 複数の二重符号違反

<--------------------------->
[----------C<sub>1</sub>--C<sub>2</sub>---C<sub>3</sub>---D<sub>1</sub>,D<sub>2</sub>,D<sub>3</sub>V<sub>u</sub>-----]

複数の違反がコミットされ、後で発見されます。その時点で、バリデーターは1回の違反に対して投獄され、スラッシュされます。 バリデーターもトゥームストーンされているため、バリデーターセットに再参加することはできません。
