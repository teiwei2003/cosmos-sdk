# フック

このモジュールとの間で呼び出すことができる利用可能なフック。。

## 委任配布を作成または変更する

- 引き起こされた:`staking.MsgDelegate`、`staking.MsgBeginRedelegate`、`staking.MsgUndelegate`

### 前

- 委任報酬は、委任者の撤回アドレスに撤回されます。
   報酬には現在の期間が含まれ、開始期間は含まれません。
- バリデーター期間がインクリメントされます。
   バリデーターのパワーとシェアの配分が変更された可能性があるため、バリデーターの期間が延長されます。
- 委任者の開始期間の参照カウントがデクリメントされます。

### 後

委任の開始高さは前の期間に設定されます。
[ビフォア]フックのため、この期間は委任者に報酬が与えられた最後の期間です。

## バリデーターが作成されました

- 引き起こされた:`staking.MsgCreateValidator`

バリデーターを作成すると、次のバリデーター変数が初期化されます。

- 歴史的な報酬
- 現在の累積報酬
- 累積手数料
- 報酬の合計が完了していません
- 限目

デフォルトでは、すべての値が[0]に設定されていますが、期間は[1]に設定されています。

## バリデーターが削除されました

- 引き起こされた:`staking.RemoveValidator`

未払いのコミッションは、バリデーターの自己委任撤回アドレスに送られます。
残りの委任者の報酬は、コミュニティの料金プールに送られます。

注:バリデーターは、委任が残っていない場合にのみ削除されます。
その時点で、すべての未処理の委任者の報酬は取り消されます。
残りの報酬はほこりの量です。

## バリデーターはスラッシュされます

- トリガー-by: `stake.Slash`
  
- 現在のバリデーター期間の参照カウントがインクリメントされます。
   スラッシュイベントによって参照カウントが作成されたため、参照カウントが増加します。
- バリデーター期間がインクリメントされます。
- スラッシュイベントは、後で使用するために保存されます。
   委任イベントを計算するときに、スラッシュイベントが参照されます。