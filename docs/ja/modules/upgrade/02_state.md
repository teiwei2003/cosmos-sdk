# 状態

`x/upgrade`モジュールの内部状態は、比較的最小限で単純です。
状態には、キー`0x0`による現在アクティブなアップグレード` Plan`(存在する場合)が含まれ、`Plan`がキー` 0x1`によって "done"としてマークされている場合。
状態には、アプリケーション内のすべてのアプリモジュールのコンセンサスバージョンが含まれます。
バージョンはビッグエンディアンの`uint64`として保存され、接頭辞` 0x2`に対応するタイプ`string`のモジュール名を追加してアクセスできます。
状態は、キー`0x3`によってアクセスできる`プロトコルバージョン`を維持します。

- 計画:`0x0->計画`
- 完了:`0x1 | バイト(プラン名)-> BigEndian(ブロックの高さ)`
- ConsensusVersion:`0x2 | バイト(モジュール名)-> BigEndian(モジュールコンセンサスバージョン)`
- ProtocolVersion:`0x3-> BigEndian(プロトコルバージョン)`

`x/upgrade`モジュールにはジェネシス状態が含まれていません。